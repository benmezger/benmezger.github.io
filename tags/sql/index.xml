<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>sql on Ben Mezger</title><link>https://benmezger.github.io/tags/sql/</link><description>Recent content in sql on Ben Mezger</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sun, 21 Jun 2020 03:20:00 -0300</lastBuildDate><atom:link href="https://benmezger.github.io/tags/sql/index.xml" rel="self" type="application/rss+xml"/><item><title>List Foreign key constrants defined in a database</title><link>https://benmezger.github.io/notes/list_foreign_key_constrants_defined_in_a_database/</link><pubDate>Sun, 21 Jun 2020 03:20:00 -0300</pubDate><guid>https://benmezger.github.io/notes/list_foreign_key_constrants_defined_in_a_database/</guid><description>tags Programming Code snippets Postgres Postgres View foreign key constrants defined in all databases
select kcu.table_schema || &amp;#39;.&amp;#39; ||kcu.table_name as foreign_table, &amp;#39;&amp;gt;-&amp;#39; as rel, rel_tco.table_schema || &amp;#39;.&amp;#39; || rel_tco.table_name as primary_table, string_agg(kcu.column_name, &amp;#39;, &amp;#39;) as fk_columns, kcu.constraint_name from information_schema.table_constraints tco join information_schema.key_column_usage kcu on tco.constraint_schema = kcu.constraint_schema and tco.constraint_name = kcu.constraint_name join information_schema.referential_constraints rco on tco.constraint_schema = rco.constraint_schema and tco.constraint_name = rco.constraint_name join information_schema.table_constraints rel_tco on rco.unique_constraint_schema = rel_tco.</description></item></channel></rss>